"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@rjsf/core"),t=require("react"),r=require("@heroicons/react/20/solid"),a=require("@rjsf/utils"),l=require("react-dnd"),n=require("react-dnd-html5-backend"),i=require("classnames");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=o(t),d=o(i);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,l={},n=Object.keys(e);for(a=0;a<n.length;a++)t.indexOf(r=n[a])>=0||(l[r]=e[r]);return l}var m=["uiSchema","registry"];function f(e){var t=c(e,m);return u.default.createElement("button",s({},t,{className:"flex items-center w-full px-3 py-[9px] rounded text-sm text-left text-slate-700 font-medium border border-dashed border-slate-300 hover:border-slate-400 "+t.className,title:"Add Item"}),u.default.createElement(r.PlusIcon,{className:"w-[18px] h-[18px] mr-2"}),"Add Item")}var p=["key"];function v(e){var t=e.canAdd,r=e.className,i=e.disabled,o=e.idSchema,d=e.uiSchema,m=e.items,f=e.onAddClick,v=e.readonly,g=e.registry,b=e.required,y=e.schema,h=e.title,E=a.getUiOptions(d),x=a.getTemplate("ArrayFieldDescriptionTemplate",g,E),N=a.getTemplate("ArrayFieldItemTemplate",g,E),T=a.getTemplate("ArrayFieldTitleTemplate",g,E),w=g.templates.ButtonTemplates.AddButton;return u.default.createElement(l.DndProvider,{backend:n.HTML5Backend},u.default.createElement("fieldset",{className:r,id:o.$id},u.default.createElement(T,{idSchema:o,title:E.title||h,required:b,schema:y,uiSchema:d,registry:g}),u.default.createElement(x,{idSchema:o,description:E.description||y.description,schema:y,uiSchema:d,registry:g}),u.default.createElement("div",{className:"row array-item-list"},m&&m.map((function(e){var t=e.key,r=c(e,p);return u.default.createElement(N,s({key:t},r))}))),t&&u.default.createElement(w,{className:"array-item-add",onClick:f,disabled:i||v,uiSchema:d,registry:g})))}function g(e){var a=e.children,n=e.className,i=e.disabled,o=e.hasToolbar,c=e.hasMoveDown,m=e.hasMoveUp,f=e.hasRemove,p=e.index,v=e.onDropIndexClick,g=e.onReorderClick,b=e.readonly,y=e.registry,h=y.templates.ButtonTemplates.RemoveButton,E=t.useState(!1),x=E[0],N=E[1],T=t.useRef(null),w={};if(m||c){var k=l.useDrop({accept:"item",hover:function(e,t){var r;if(T.current){var a=e.index,l=p;if(a!==l){var n=null==(r=T.current)?void 0:r.getBoundingClientRect(),i=(n.bottom-n.top)/2,o=t.getClientOffset().y-n.top;a<l&&o<i||a>l&&o>i||(g(a,l)(""),e.index=l)}}}})[1],F=l.useDrag({type:"item",item:function(){return{index:p}},collect:function(e){return{isDragging:e.isDragging()}}}),I=F[0].isDragging?.3:1;(0,F[1])(k(T)),w={style:{opacity:I}}}var S="Untitled";return a.props.formData&&a.props.formData.title&&(S=a.props.formData.title),u.default.createElement("div",s({className:n+" mb-4",ref:T},w),u.default.createElement("div",{className:d.default("flex items-center w-full p-3 py-2.5 rounded text-sm text-left text-slate-700 font-medium cursor-pointer",{"bg-slate-100":!o,"border border-slate-200":o&&!x,"border border-slate-300":o&&x}),onClick:function(){return N((function(e){return!e}))}},u.default.createElement("div",{className:"grow line-clamp-1"},S),u.default.createElement(r.ChevronRightIcon,{className:"h-5 w-5 "+(x?"rotate-90 transform":"")})),u.default.createElement("div",{className:d.default("relative",{hidden:!x,block:x})},u.default.createElement("div",{className:"px-2.5 pt-5"},a),o&&u.default.createElement("div",{className:"ml-3 mb-4"},f&&u.default.createElement(h,{disabled:i||b,onClick:v(p),registry:y}))))}function b(e){var t=e.id,r=e.placeholder,l=e.required,n=e.readonly,i=e.disabled,o=e.type,c=e.value,m=e.onChange,f=e.onBlur,p=e.onFocus,v=e.autofocus,g=e.options,b=e.schema,y=e.rawErrors,h=void 0===y?[]:y,E=e.children,x=s({},e.extraProps,a.getInputProps(b,o,g));return u.default.createElement(u.default.Fragment,null,u.default.createElement("input",s({id:t,name:t,placeholder:r,autoFocus:v,required:l,disabled:i,readOnly:n,className:d.default("mt-1 block w-full text-[15px]",{"is-invalid":h.length>0,"file:mr-3 file:font-medium file:text-sm file:border-none file:bg-slate-200 file:py-1 file:px-3 file:rounded-md file:cursor-pointer p-[7px]":"file"===o,"bg-white h-[42px] p-[5px] cursor-pointer":"color"===o,"rounded-md border border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50":"range"!==o}),list:b.examples?a.examplesId(t):void 0},x,{value:c||0===c?c:"",onChange:function(e){var t=e.target.value;return m(""===t?g.emptyValue:t)},onBlur:function(e){return f(t,e.target.value)},onFocus:function(e){return p(t,e.target.value)},"aria-describedby":a.ariaDescribedByIds(t,!!b.examples)})),E,Array.isArray(b.examples)?u.default.createElement("datalist",{id:a.examplesId(t)},b.examples.concat(b.default&&!b.examples.includes(b.default)?[b.default]:[]).map((function(e){return u.default.createElement("option",{key:e,value:e})}))):null)}function y(e){var t=e.description;return t?u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{id:e.id,className:"mb-3"},t)):null}function h(e){var t=e.errors,r=void 0===t?[]:t;if(0===r.length)return null;var l=a.errorId(e.idSchema);return u.default.createElement("div",null,u.default.createElement("ul",{id:l,className:"error-detail bs-callout bs-callout-info"},r.filter((function(e){return!!e})).map((function(e,t){return u.default.createElement("li",{className:"text-red-700 text-sm",key:t},e)}))))}function E(e){var t=e.id,r=e.children,l=e.displayLabel,n=e.rawErrors,i=void 0===n?[]:n,o=e.errors,s=e.help,c=e.rawDescription,m=e.classNames,f=e.style,p=e.disabled,v=e.label,g=e.hidden,b=e.onDropPropertyClick,y=e.onKeyChange,h=e.readonly,E=e.required,x=e.schema,N=e.uiSchema,T=e.registry,w=a.getUiOptions(N),k=a.getTemplate("WrapIfAdditionalTemplate",T,w);return g?u.default.createElement("div",{className:"hidden"},r):u.default.createElement(k,{classNames:m,style:f,disabled:p,id:t,label:v,onDropPropertyClick:b,onKeyChange:y,readonly:h,required:E,schema:x,uiSchema:N,registry:T},u.default.createElement(u.default.Fragment,null,l&&" "!==v&&u.default.createElement("label",{htmlFor:t,className:d.default("block mb-2 text-sm font-medium",{"text-red-700":i.length>0,"text-slate-700":i.length<0})},v,E?"*":null),r,l&&c&&u.default.createElement("p",{className:i.length>0?"text-red-700":"text-slate-500"},c),o,s))}var x=["icon","iconType","className","registry"];function N(e){var t=e.icon,a=e.className,l=c(e,x);return u.default.createElement("button",s({},l,{className:"block rounded-[5px] border border-slate-200 p-0.5 mb-1 cursor-pointer"}),"up"===t?u.default.createElement(r.ArrowSmallUpIcon,{className:a}):null,"down"===t?u.default.createElement(r.ArrowSmallDownIcon,{className:a}):null,"remove"===t?u.default.createElement(r.XMarkIcon,{className:a}):null)}function T(e){return u.default.createElement(N,s({title:"Move down"},e,{icon:"down"}))}function w(e){return u.default.createElement(N,s({title:"Move up"},e,{icon:"up"}))}function k(e){return u.default.createElement("button",s({},e,{className:"flex items-center text-[13px] text-red-700 border border-red-700 rounded-[5px] py-0.5 px-2 hover:bg-red-700 hover:text-white"}),u.default.createElement(r.TrashIcon,{className:"w-3 h-3 mr-1"}),"Remove")}function F(e){var r=t.useState(e.properties[0].name),a=r[0],l=r[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"flex items-center justify-between bg-slate-100 p-1 rounded-md mb-6"},e.properties.map((function(e,t){return u.default.createElement("button",{key:t,type:"button",onClick:function(){return l(e.name)},className:d.default("text-sm py-2 w-1/3 rounded-md capitalize",{"bg-white font-medium":a===e.name})},e.name)}))),e.properties.map((function(e,t){return u.default.createElement("div",{key:t,title:e.name,className:d.default({hidden:a!==e.name})},e.children.map((function(e,t){return u.default.createElement("div",{key:t,className:"mb-5"},e)})))})))}function I(e){var t=e.description,r=e.title,l=e.properties,n=e.required,i=e.uiSchema,o=e.idSchema,d=e.schema,s=e.registry,c=a.getUiOptions(i),m=a.getTemplate("TitleFieldTemplate",s,c),f=a.getTemplate("DescriptionFieldTemplate",s,c);return u.default.createElement(u.default.Fragment,null,(c.title||r)&&u.default.createElement(m,{id:a.titleId(o),title:c.title||r,required:n,schema:d,uiSchema:i,registry:s}),(c.description||t)&&u.default.createElement(f,{id:a.descriptionId(o),description:c.description||t,schema:d,uiSchema:i,registry:s}),u.default.createElement("div",{className:"p-0"},B({properties:l,groups:i["ui:tabs"],props:e})))}var S=Symbol("REST"),A=Symbol("EXTRANEOUS");function B(e){var t=e.properties,r=e.groups,a=e.props;if(!Array.isArray(r))return u.default.createElement(u.default.Fragment,null,t.map((function(e,t){return u.default.createElement("div",{key:t,className:e.hidden?"hidden":"mb-5"},e.content)})));var l=r.map((function(e,r){if("string"==typeof e){var l=t.filter((function(t){return t.name===e}));return 1===l.length?l[0].content:A}if("object"==typeof e){var n=Object.keys(e).reduce((function(r,l){var n=e[l];return l.startsWith("ui:")?r:Array.isArray(n)?[].concat(r,[{name:l,children:B({properties:t,props:a,groups:n})}]):r}),[]);return u.default.createElement(F,{key:r,properties:n})}throw new Error("Invalid object type: "+typeof e+" "+e)}));if(l.filter((function(e){return e===S})).length>0)throw new Error("Remainder fields not supported");var n=l.filter((function(e){return e===A}));if(n.length)throw new Error("Extranoues fields"+n);return l}function D(e){var t=a.getSubmitButtonOptions(e.uiSchema),r=t.submitText;return t.norender?null:u.default.createElement("div",null,u.default.createElement("button",s({type:"submit"},t.props),r))}function O(e){var t=e.id,r=e.title,l=a.getUiOptions(e.uiSchema);return u.default.createElement("div",{id:t,className:"mb-4"},u.default.createElement("h5",{className:"block mb-2 text-sm font-medium"},l.title||r))}function C(e){var t=e.children,r=e.disabled,l=e.id,n=e.label,i=e.onDropPropertyClick,o=e.onKeyChange,d=e.readonly,s=e.required,c=e.uiSchema,m=e.registry,f=m.templates.ButtonTemplates.RemoveButton;return u.default.createElement("div",{className:e.classNames,style:e.style},a.ADDITIONAL_PROPERTY_FLAG in e.schema?u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-5 form-additional"},u.default.createElement("div",{className:"form-group"},u.default.createElement("label",{htmlFor:l+"-key"},n+" Key"),u.default.createElement("input",{className:"form-control",required:s,type:"text",id:l+"-key",onBlur:function(e){return o(e.target.value)},defaultValue:n}))),u.default.createElement("div",{className:"form-additional form-group col-xs-5"},t),u.default.createElement("div",{className:"col-xs-2"},u.default.createElement(f,{className:"array-item-remove btn-block",style:{border:"0"},disabled:r||d,onClick:i(n),uiSchema:c,registry:m}))):t)}function q(){return{ArrayFieldTemplate:v,ArrayFieldItemTemplate:g,BaseInputTemplate:b,ButtonTemplates:{AddButton:f,MoveDownButton:T,MoveUpButton:w,RemoveButton:k,SubmitButton:D},DescriptionFieldTemplate:y,FieldErrorTemplate:h,FieldTemplate:E,ObjectFieldTemplate:I,TitleFieldTemplate:O,WrapIfAdditionalTemplate:C}}var R=q();function j(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return u.default.createElement(t,s({},e,{type:"file"}))}function P(e){var t=e.schema,r=e.id,l=e.options,n=e.required,i=e.disabled,o=e.readonly,s=e.multiple,c=e.autofocus,m=e.onChange,f=e.onBlur,p=e.onFocus,v=e.placeholder,g=e.rawErrors,b=void 0===g?[]:g,y=l.enumOptions,h=l.enumDisabled,E=l.emptyValue,x=s?[]:"";function N(e,t){return t?[].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}var T=a.enumOptionsIndexForValue(e.value,y,s);return u.default.createElement("select",{id:r,name:r,value:void 0===T?x:T,required:n,multiple:s,disabled:i||o,autoFocus:c,className:d.default("mt-1 block w-full text-[15px] rounded-md border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"is-invalid":b.length>0}),onBlur:f&&function(e){var t=N(e,s);f(r,a.enumOptionsValueForIndex(t,y,E))},onFocus:p&&function(e){var t=N(e,s);p(r,a.enumOptionsValueForIndex(t,y,E))},onChange:function(e){var t=N(e,s);m(a.enumOptionsValueForIndex(t,y,E))},"aria-describedby":a.ariaDescribedByIds(r)},!s&&void 0===t.default&&u.default.createElement("option",{value:""},v),y.map((function(e,t){var r=e.value,a=e.label,l=Array.isArray(h)&&-1!=h.indexOf(r);return u.default.createElement("option",{key:t,id:a,value:String(t),disabled:l},a)})))}function M(e){var t=e.id,r=e.onBlur,l=e.onFocus,n=e.onChange,i=e.options;return u.default.createElement("textarea",{id:t,name:t,placeholder:e.placeholder,disabled:e.disabled,readOnly:e.readonly,value:e.value,required:e.required,autoFocus:e.autofocus,className:"mt-1 block w-full text-[15px] rounded-md border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:i.rows||5,onChange:function(e){var t=e.target.value;return n(""===t?i.emptyValue:t)},onBlur:function(e){return r(t,e.target.value)},onFocus:function(e){return l(t,e.target.value)},"aria-describedby":a.ariaDescribedByIds(t)})}function U(){return{FileWidget:j,SelectWidget:P,TextareaWidget:M}}var V=U();function W(){return{templates:q(),widgets:U()}}var K=W();function L(){return e.withTheme(W())}var _=L();exports.Form=_,exports.Templates=R,exports.Theme=K,exports.Widgets=V,exports.default=_,exports.generateForm=L,exports.generateTemplates=q,exports.generateTheme=W,exports.generateWidgets=U;
//# sourceMappingURL=rjsf-tailwind.cjs.production.min.js.map
