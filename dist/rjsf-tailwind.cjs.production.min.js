"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@rjsf/core"),t=require("react"),r=require("@heroicons/react/20/solid"),a=require("@rjsf/utils"),l=require("react-dnd"),n=require("react-dnd-html5-backend"),i=require("classnames");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=o(t),u=o(i);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,l={},n=Object.keys(e);for(a=0;a<n.length;a++)t.indexOf(r=n[a])>=0||(l[r]=e[r]);return l}var m=["uiSchema","registry"];function f(e){var t=c(e,m);return d.default.createElement("button",s({},t,{className:"flex items-center w-full px-3 py-[9px] rounded text-sm text-left text-slate-700 font-medium border border-dashed border-slate-300 hover:border-slate-400 "+t.className,title:"Add Item"}),d.default.createElement(r.PlusIcon,{className:"w-[18px] h-[18px] mr-2"}),"Add Item")}var p=["key"];function v(e){var t=e.canAdd,r=e.className,i=e.disabled,o=e.idSchema,u=e.uiSchema,m=e.items,f=e.onAddClick,v=e.readonly,g=e.registry,b=e.required,y=e.schema,h=e.title,x=a.getUiOptions(u),E=a.getTemplate("ArrayFieldDescriptionTemplate",g,x),N=a.getTemplate("ArrayFieldItemTemplate",g,x),T=a.getTemplate("ArrayFieldTitleTemplate",g,x),F=g.templates.ButtonTemplates.AddButton;return d.default.createElement(l.DndProvider,{backend:n.HTML5Backend},d.default.createElement("fieldset",{className:r,id:o.$id},d.default.createElement(T,{idSchema:o,title:x.title||h,required:b,schema:y,uiSchema:u,registry:g}),d.default.createElement(E,{idSchema:o,description:x.description||y.description,schema:y,uiSchema:u,registry:g}),d.default.createElement("div",{className:"row array-item-list"},m&&m.map((function(e){var t=e.key,r=c(e,p);return d.default.createElement(N,s({key:t},r))}))),t&&d.default.createElement(F,{className:"array-item-add",onClick:f,disabled:i||v,uiSchema:u,registry:g})))}function g(e){var a=e.children,n=e.className,i=e.disabled,o=e.hasToolbar,c=e.hasMoveDown,m=e.hasMoveUp,f=e.hasRemove,p=e.index,v=e.onDropIndexClick,g=e.onReorderClick,b=e.readonly,y=e.registry,h=y.templates.ButtonTemplates.RemoveButton,x=t.useState(!1),E=x[0],N=x[1],T=t.useRef(null),F={};if(m||c){var k=l.useDrop({accept:"item",hover:function(e,t){var r;if(T.current){var a=e.index,l=p;if(a!==l){var n=null==(r=T.current)?void 0:r.getBoundingClientRect(),i=(n.bottom-n.top)/2,o=t.getClientOffset().y-n.top;a<l&&o<i||a>l&&o>i||(g(a,l)(""),e.index=l)}}}})[1],w=l.useDrag({type:"item",item:function(){return{index:p}},collect:function(e){return{isDragging:e.isDragging()}}}),I=w[0].isDragging?.3:1;(0,w[1])(k(T)),F={style:{opacity:I}}}var B="Untitled";return a.props.formData&&a.props.formData.title&&(B=a.props.formData.title),d.default.createElement("div",s({className:n+" mb-4",ref:T},F),d.default.createElement("div",{className:u.default("flex items-center w-full p-3 py-2.5 rounded text-sm text-left text-slate-700 font-medium cursor-pointer",{"bg-slate-100":!o,"border border-slate-200":o}),onClick:function(){return N((function(e){return!e}))}},d.default.createElement("div",{className:"grow line-clamp-1"},B),d.default.createElement(r.ChevronRightIcon,{className:"h-5 w-5 "+(E?"rotate-90 transform":"")})),d.default.createElement("div",{className:u.default("relative",{hidden:!E,block:E})},d.default.createElement("div",{className:"px-2.5 pt-5"},a),o&&d.default.createElement("div",{className:"ml-3 mb-4"},f&&d.default.createElement(h,{disabled:i||b,onClick:v(p),registry:y}))))}function b(e){var t=e.id,r=e.placeholder,l=e.required,n=e.readonly,i=e.disabled,o=e.type,c=e.value,m=e.onChange,f=e.onBlur,p=e.onFocus,v=e.autofocus,g=e.options,b=e.schema,y=e.rawErrors,h=void 0===y?[]:y,x=e.children,E=s({},e.extraProps,a.getInputProps(b,o,g));return d.default.createElement(d.default.Fragment,null,d.default.createElement("input",s({id:t,name:t,placeholder:r,autoFocus:v,required:l,disabled:i,readOnly:n,className:u.default("mt-1 block w-full text-[15px] rounded-md border border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"is-invalid":h.length>0,"file:mr-3 file:font-medium file:text-sm file:border-none file:bg-slate-200 file:py-1 file:px-3 file:rounded-md file:cursor-pointer p-[7px]":"file"===o,"bg-white h-[42px] p-[5px] cursor-pointer":"color"===o}),list:b.examples?a.examplesId(t):void 0},E,{value:c||0===c?c:"",onChange:function(e){var t=e.target.value;return m(""===t?g.emptyValue:t)},onBlur:function(e){return f(t,e.target.value)},onFocus:function(e){return p(t,e.target.value)},"aria-describedby":a.ariaDescribedByIds(t,!!b.examples)})),x,Array.isArray(b.examples)?d.default.createElement("datalist",{id:a.examplesId(t)},b.examples.concat(b.default&&!b.examples.includes(b.default)?[b.default]:[]).map((function(e){return d.default.createElement("option",{key:e,value:e})}))):null)}function y(e){var t=e.description;return t?d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{id:e.id,className:"mb-3"},t)):null}function h(e){var t=e.errors,r=void 0===t?[]:t;if(0===r.length)return null;var l=a.errorId(e.idSchema);return d.default.createElement("div",null,d.default.createElement("ul",{id:l,className:"error-detail bs-callout bs-callout-info"},r.filter((function(e){return!!e})).map((function(e,t){return d.default.createElement("li",{className:"text-red-700 text-sm",key:t},e)}))))}function x(e){var t=e.id,r=e.children,l=e.displayLabel,n=e.rawErrors,i=void 0===n?[]:n,o=e.errors,s=e.help,c=e.rawDescription,m=e.classNames,f=e.style,p=e.disabled,v=e.label,g=e.hidden,b=e.onDropPropertyClick,y=e.onKeyChange,h=e.readonly,x=e.required,E=e.schema,N=e.uiSchema,T=e.registry,F=a.getUiOptions(N),k=a.getTemplate("WrapIfAdditionalTemplate",T,F);return g?d.default.createElement("div",{className:"hidden"},r):d.default.createElement(k,{classNames:m,style:f,disabled:p,id:t,label:v,onDropPropertyClick:b,onKeyChange:y,readonly:h,required:x,schema:E,uiSchema:N,registry:T},d.default.createElement(d.default.Fragment,null,l&&" "!==v&&d.default.createElement("label",{htmlFor:t,className:u.default("block mb-2 text-sm font-medium",{"text-red-700":i.length>0,"text-slate-700":i.length<0})},v,x?"*":null),r,l&&c&&d.default.createElement("p",{className:i.length>0?"text-red-700":"text-slate-500"},c),o,s))}var E=["icon","iconType","className","registry"];function N(e){var t=e.icon,a=e.className,l=c(e,E);return d.default.createElement("button",s({},l,{className:"block rounded-[5px] border border-slate-200 p-0.5 mb-1 cursor-pointer"}),"up"===t?d.default.createElement(r.ArrowSmallUpIcon,{className:a}):null,"down"===t?d.default.createElement(r.ArrowSmallDownIcon,{className:a}):null,"remove"===t?d.default.createElement(r.XMarkIcon,{className:a}):null)}function T(e){return d.default.createElement(N,s({title:"Move down"},e,{icon:"down"}))}function F(e){return d.default.createElement(N,s({title:"Move up"},e,{icon:"up"}))}function k(e){return d.default.createElement("button",s({},e,{className:"flex items-center text-[13px] text-red-700 border border-red-700 rounded-[5px] py-0.5 px-2 hover:bg-red-700 hover:text-white"}),d.default.createElement(r.TrashIcon,{className:"w-3 h-3 mr-1"}),"Remove")}function w(e){var t=e.description,r=e.title,l=e.properties,n=e.required,i=e.uiSchema,o=e.idSchema,u=e.schema,s=e.formData,c=e.onAddClick,m=e.disabled,f=e.readonly,p=e.registry,v=a.getUiOptions(i),g=a.getTemplate("TitleFieldTemplate",p,v),b=a.getTemplate("DescriptionFieldTemplate",p,v),y=p.templates.ButtonTemplates.AddButton;return d.default.createElement(d.default.Fragment,null,(v.title||r)&&d.default.createElement(g,{id:a.titleId(o),title:v.title||r,required:n,schema:u,uiSchema:i,registry:p}),(v.description||t)&&d.default.createElement(b,{id:a.descriptionId(o),description:v.description||t,schema:u,uiSchema:i,registry:p}),d.default.createElement("div",{className:"p-0"},l.map((function(e,t){return d.default.createElement("div",{key:t,className:e.hidden?"d-none":"mb-5"},e.content)})),a.canExpand(u,i,s)?d.default.createElement("div",{className:"py-4"},d.default.createElement(y,{onClick:c(u),disabled:m||f,className:"object-property-expand",uiSchema:i,registry:p})):null))}function I(e){var t=a.getSubmitButtonOptions(e.uiSchema),r=t.submitText;return t.norender?null:d.default.createElement("div",null,d.default.createElement("button",s({type:"submit"},t.props),r))}function B(e){var t=e.id,r=e.title,l=a.getUiOptions(e.uiSchema);return d.default.createElement("div",{id:t,className:"mb-4"},d.default.createElement("h5",{className:"block mb-2 text-sm font-medium"},l.title||r))}function D(e){var t=e.children,r=e.disabled,l=e.id,n=e.label,i=e.onDropPropertyClick,o=e.onKeyChange,u=e.readonly,s=e.required,c=e.uiSchema,m=e.registry,f=m.templates.ButtonTemplates.RemoveButton;return d.default.createElement("div",{className:e.classNames,style:e.style},a.ADDITIONAL_PROPERTY_FLAG in e.schema?d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-5 form-additional"},d.default.createElement("div",{className:"form-group"},d.default.createElement("label",{htmlFor:l+"-key"},n+" Key"),d.default.createElement("input",{className:"form-control",required:s,type:"text",id:l+"-key",onBlur:function(e){return o(e.target.value)},defaultValue:n}))),d.default.createElement("div",{className:"form-additional form-group col-xs-5"},t),d.default.createElement("div",{className:"col-xs-2"},d.default.createElement(f,{className:"array-item-remove btn-block",style:{border:"0"},disabled:r||u,onClick:i(n),uiSchema:c,registry:m}))):t)}function S(){return{ArrayFieldTemplate:v,ArrayFieldItemTemplate:g,BaseInputTemplate:b,ButtonTemplates:{AddButton:f,MoveDownButton:T,MoveUpButton:F,RemoveButton:k,SubmitButton:I},DescriptionFieldTemplate:y,FieldErrorTemplate:h,FieldTemplate:x,ObjectFieldTemplate:w,TitleFieldTemplate:B,WrapIfAdditionalTemplate:D}}var A=S();function C(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return d.default.createElement(t,s({},e,{type:"file"}))}function O(e){var t=e.schema,r=e.id,l=e.options,n=e.required,i=e.disabled,o=e.readonly,s=e.multiple,c=e.autofocus,m=e.onChange,f=e.onBlur,p=e.onFocus,v=e.placeholder,g=e.rawErrors,b=void 0===g?[]:g,y=l.enumOptions,h=l.enumDisabled,x=l.emptyValue,E=s?[]:"";function N(e,t){return t?[].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}var T=a.enumOptionsIndexForValue(e.value,y,s);return d.default.createElement("select",{id:r,name:r,value:void 0===T?E:T,required:n,multiple:s,disabled:i||o,autoFocus:c,className:u.default("mt-1 block w-full text-[15px] rounded-md border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"is-invalid":b.length>0}),onBlur:f&&function(e){var t=N(e,s);f(r,a.enumOptionsValueForIndex(t,y,x))},onFocus:p&&function(e){var t=N(e,s);p(r,a.enumOptionsValueForIndex(t,y,x))},onChange:function(e){var t=N(e,s);m(a.enumOptionsValueForIndex(t,y,x))},"aria-describedby":a.ariaDescribedByIds(r)},!s&&void 0===t.default&&d.default.createElement("option",{value:""},v),y.map((function(e,t){var r=e.value,a=e.label,l=Array.isArray(h)&&-1!=h.indexOf(r);return d.default.createElement("option",{key:t,id:a,value:String(t),disabled:l},a)})))}function q(e){var t=e.id,r=e.onBlur,l=e.onFocus,n=e.onChange,i=e.options;return d.default.createElement("textarea",{id:t,name:t,placeholder:e.placeholder,disabled:e.disabled,readOnly:e.readonly,value:e.value,required:e.required,autoFocus:e.autofocus,className:"mt-1 block w-full text-[15px] rounded-md border-slate-300 shadow-sm focus:border-indigo-600 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:i.rows||5,onChange:function(e){var t=e.target.value;return n(""===t?i.emptyValue:t)},onBlur:function(e){return r(t,e.target.value)},onFocus:function(e){return l(t,e.target.value)},"aria-describedby":a.ariaDescribedByIds(t)})}function P(){return{FileWidget:C,SelectWidget:O,TextareaWidget:q}}var R=P();function j(){return{templates:S(),widgets:P()}}var M=j();function U(){return e.withTheme(j())}var V=U();exports.Form=V,exports.Templates=A,exports.Theme=M,exports.Widgets=R,exports.default=V,exports.generateForm=U,exports.generateTemplates=S,exports.generateTheme=j,exports.generateWidgets=P;
//# sourceMappingURL=rjsf-tailwind.cjs.production.min.js.map
